<!-- Add a button to trigger fetching the categories -->
<button onclick="fetchCategories()">Fetch Categories</button>
<button onclick="authenticateUser1()">authenticateUser</button>
<div id="categoryList">
  <!-- Category data will be displayed here -->
</div>

<script>
           
        
        var myTicket;
        var baseURL;
        var userName;
        var password;
        
        var credentials;
        function authenticateUser1() {
        baseURL = 'http://localhost/otcs/cs.exe';
        userName = 'Admin';
        password = 'Santu@123';
        credentials = { userName: userName, password: password };
            var url = baseURL + '/api/v1/auth';

            $.support.cors = true;
            $.ajax({
                url: url,
                type: "POST",
                crossDomain: true,
                data: credentials,
                dataType: "json",
                contentType: "application/x-www-form-urlencoded",
                success: function (res) {
                    // document.getElementById("messageDiv").innerHTML = "OTCSTicket is Generated";
                    alert("OTCSTicket is Generated");
                    myTicket = res.ticket;
                },
                error: function (res) {
                    // document.getElementById("messageDiv").innerHTML = "Something Error happened! " + res.statusText;
                    alert("Something Error happened! " + res.statusText);
                }
            });

            //     var contentToShow = document.getElementById('contentToShow');
            // contentToShow.style.display = 'none';

            // // Show the updateFolderSection div
            // var updateFolderSection = document.getElementById('updateFolderSection');
            // updateFolderSection.style.display = 'block';
        }


function function fetchCategories() {
    
            var url = baseURL + '/api/v1/nodes/180089/categories';
        
        //         success: function (res) {
        //             alert("success!");
        //             alert("Custom Folder object id = " + res);
        //         },
        //         error: function (res) {
        //             alert("Bad thing happened! " + res.statusText);
        //         }
        //     });
        // 

  $.ajax({
    url: url,
    type: "GET", 
    dataType: "json",
    headers: { "OTCSTICKET": myTicket }, 

    success: function (data) {
        
        console.log("Success! Data received:", data);
    },

    error: function (xhr, status, error) {
        
        console.error("Error:", status, error);
    }
});
}
</script>
