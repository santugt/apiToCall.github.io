<!DOCTYPE html>
<html lang="en">
<head>
  
<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>Content Server API</title>
   
   
  

     
</head>
<body class="d-flex justify-content-center align-items-center vh-100">
    <div class="text-center">
        <div id="contentToShow">
        <h1>Content Server API</h1><br><br>

        <form id="configForm">
            <table>
                <tr>
                    <td><label for="baseURL">Base URL:&nbsp;&nbsp;</label></td>
                    <td><input type="text" id="baseURL" name="baseURL" required></td>
                </tr>
                <tr>
                    <td><label for="userName">Username:&nbsp;&nbsp;</label></td>
                    <td><input type="text" id="userName" name="userName" required></td>
                </tr>
                <tr>
                    <td><label for="password">Password:&nbsp;&nbsp;</label></td>
                    <td><input type="password" id="password" name="password" required></td>
                </tr>
            </table>
           
            <div class="btn-center">
                <input class="btn btn-primary btn-margin" onclick="authenticateUser()" type="button" value="Submit To Generate Ticket" />
            </div>
        </form>
        <div id="messageDiv"></div>
            
 <h1>Create a Folder</h1>
    <form id="folderForm">
       
        <div>
            <label for="parentID">Parent ID:</label>
            <input type="text" id="parentID" name="parentID" placeholder="Enter Parent ID">
        </div>
        <div>
            <label for="folderName">Folder Name:</label>
            <input type="text" id="folderName" name="folderName" placeholder="Enter Folder Name">
        </div>
        <button type="button" onclick="CreateFolder()">Create Folder</button>
    </form>


            <h1>Update Folder Name and Description</h1>
       <form id="updateForm">
           <div class="form-group">
               <label for="nodeIdF">Node ID:</label>
               <input type="text" class="form-control" id="nodeIdF" name="nodeIdF" placeholder="Enter Node ID">
           </div>
           <div class="form-group">
               <label for="name">Name:</label>
               <input type="text" class="form-control" id="name" name="name" placeholder="Enter new name">
           </div>
           <div class="form-group">
               <label for="description">Description:</label>
               <input type="text" class="form-control" id="description" name="description" placeholder="Enter new description">
           </div>
           
           <button type="button" class="btn btn-primary" onclick="updateFolderNameDescription()">Update Folder</button>
       </form>

          <h1>Fetch Categories</h1>
    <label for="nodeIdC">Node ID:</label>
    <input type="text" id="nodeIdC" value=""  placeholder="NodeID Of DOC,FOLDER,etc"> <!-- You can set a default value here -->

    <button onclick="fetchCategories()">Fetch Categories</button>

    <div id="nodeIdDisplay">
        <!-- Node ID will be displayed here -->
    </div>
    <div id="categoryList">
        <!-- The fetched categories will be displayed here -->
    </div>
    <div id="categoryInfo">
        <!-- Category details will be displayed here -->
    </div>


    <h1>File Upload</h1>
 
   <form id="fileUploadForm">
        <label for="parentIDFile">Parent ID:</label>
        <input type="text" id="parentIDFile" name="parentIDFile">
        <br>
        <label for="fileName">File Name:</label>
        <input type="text" id="fileName" name="fileName">
        <br>
        <label for="file">Choose a file:</label>
        <input type="file" id="file" name="file">
        <br>
        <button type="button" onclick="uploadFile()">Upload File</button>
    </form>



          

          <h1>Node Permissions</h1>

    <form id="nodeIdForm">
    <label for="nodeIdPerm">Enter Node ID:</label>
    <input type="text" id="nodeIdPerm" name="nodeIdPerm" placeholder="Node ID">
    <br>
    <label for="permissionType">Select Permission Type:</label>
    <select id="permissionType">
        <option value="owner">Owner</option>
        <option value="group">Group</option>
        <option value="none">None</option> <!-- Add "None" option -->
        <!-- Add more options as needed -->
    </select>
    <br>
    <button type="button" onclick="getPermissions()" id="getPermissionsButton">Get Node Permissions</button>
</form>

       <div id="tableContainer"></div>




       <h1>Update Permissions</h1>
    <form id="permissionForm">
        <label for="nodeIdPermUP">Node ID:</label>
        <input type="text" id="nodeIdPermUP" name="nodeIdPermUP" placeholder="Enter Node ID"><br><br>

        <label for="permissionTypeUP">Permission Type:</label>
        <select id="permissionTypeUP" name="permissionTypeUP">
            <option value="owner">Owner</option>
            <option value="group">Group</option>
            <option value="public">Public</option>
        </select><br><br>

        <label>Permissions:</label><br>
        <!-- Dynamically generate checkboxes for allowable permissions -->
        <script>
            var allowablePermissions = [
                "see", "see_contents", "modify", "edit_attributes",
                "add_items", "reserve", "add_major_version",
                "delete_versions", "delete", "edit_permissions"
            ];

            var permissionsContainer = document.createElement("div");

            for (var i = 0; i < allowablePermissions.length; i++) {
                var permission = allowablePermissions[i];
                var checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                checkbox.name = "permissions[]";
                checkbox.value = permission;
                checkbox.id = "permission_" + permission;
                var label = document.createElement("label");
                label.htmlFor = "permission_" + permission;
                label.appendChild(document.createTextNode(permission));

                permissionsContainer.appendChild(checkbox);
                permissionsContainer.appendChild(label);
                permissionsContainer.appendChild(document.createElement("br"));
            }

            document.getElementById("permissionForm").appendChild(permissionsContainer);
        </script>

        <label for="right_id">Right ID:</label>
        <input type="text" id="right_id" name="right_id" placeholder="Enter Right ID"><br><br>

        <label for="apply_to">Apply To:</label>
        <select id="apply_to" name="apply_to">
            <option value="0">This Item</option>
            <option value="1">Sub-Items</option>
            <option value="2">This Item and Sub-Items</option>
            <option value="3">This Item And Immediate Sub-Items</option>
        </select><br><br>

        <button type="button" onclick="updatePermissions()">Update Permissions</button>
    </form>

    <div id="resultMessage"></div>
           <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://santugt.github.io/apiToCall.github.io/index.js"></script>
</body>
</html
